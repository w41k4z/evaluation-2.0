<section class="content">
  <div class="content-header">
    <h1>Liste des Étapes</h1>
  </div>
  <div class="notification">
    <div class="error-message" *ngIf="error$ | async as error">
      <p class="m-0">{{ error }}</p>
    </div>
    <div class="info-message" *ngIf="message$ | async as message">
      <p class="m-0">{{ message }}</p>
    </div>
  </div>
  <div
    *ngIf="loading$ | async; else content"
    class="w-100 my-5 d-flex justify-content-center"
  >
    <div class="spinner-border text-primary" role="status"></div>
  </div>
  <ng-template #content>
    <ul class="stage-list">
      <li class="stage-item" *ngFor="let stage of stages; index as i">
        <div class="stage-details">
          <span class="stage-number">Étape N° {{ stage.rank }}:</span>
          <span class="stage-name"
            ><span>{{ stage.name }}</span> <i class="ms-1 bi bi-geo-alt"></i
          ></span>
          <span class="stage-length"
            ><span>{{ stage.pathLength }} km</span>
            <i class="ms-1 bi bi-person-walking"></i
          ></span>
          <span class="stage-runners">
            <span>{{ stage.runnersPerTeam }}</span>
            <i class="ms-1 bi bi-people"></i>
          </span>
        </div>
        <button
          class="btn btn-primary"
          [routerLink]="['/app/stage-ranking', stage.id]"
        >
          Résultat
        </button>
      </li>
    </ul>
  </ng-template>
</section>
