<div class="container">
  <div class="notification">
    <div class="error-message" *ngIf="error$ | async as error">
      <p class="m-0">{{ error }}</p>
    </div>
    <div class="info-message" *ngIf="message$ | async as message">
      <p class="m-0">{{ message }}</p>
    </div>
  </div>
  <section class="mb-5" *ngFor="let stage of stages; index as i">
    <h2>
      {{ stage.stage.name }} ({{ stage.stage.pathLength }}km) -
      {{ stage.stage.runnersPerTeam }} coureur(s)
    </h2>
    <table class="table table-bordered">
      <thead>
        <tr>
          <th>Nom</th>
          <th>Chrono</th>
          <th>Pénalité</th>
          <th>Temps final</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let runner of stage.runners">
          <td>{{ runner.runner.name }}</td>
          <td>{{ runner.chrono }}</td>
          <td>{{ runner.penalty }}</td>
          <td>{{ runner.finalChrono }}</td>
        </tr>
      </tbody>
    </table>
    <div class="d-flex justify-content-end">
      <button class="btn btn-outline-secondary" (click)="openAddDialog(i)">
        Ajouter coureur
      </button>
    </div>
  </section>
</div>
